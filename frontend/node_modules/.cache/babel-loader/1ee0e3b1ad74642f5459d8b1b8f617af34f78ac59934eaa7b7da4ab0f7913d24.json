{"ast":null,"code":"var _jsxFileName = \"D:\\\\Payment-Gateway\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './styles/main.css';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements, CardElement, CardNumberElement, CardExpiryElement, CardCvcElement, useStripe, useElements } from '@stripe/react-stripe-js';\n\n// Backend API URL\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8000';\n\n// Alternative PaymentForm using individual elements (commented out for now)\n/*\nfunction IndividualCardPaymentForm({ formData, setFormData, paymentData, setPaymentData, setMessage, setMessageType, setLoading, setStep }) {\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const cardElementOptions = {\n    style: {\n      base: {\n        fontSize: '16px',\n        color: '#424770',\n        '::placeholder': {\n          color: '#aab7c4',\n        },\n      },\n      invalid: {\n        color: '#9e2146',\n      },\n    },\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n    try {\n      // 1. Create payment intent\n      const intentRes = await axios.post(`${API_BASE_URL}/stripe/create-payment-intent`, {\n        amount: Math.round(formData.amount * 100),\n        currency: 'usd',\n        full_name: formData.full_name,\n        email: formData.email,\n        phone: formData.phone\n      });\n      const { client_secret, payment_intent_id } = intentRes.data;\n\n      // 2. Create payment method with individual elements\n      const { error: pmError, paymentMethod } = await stripe.createPaymentMethod({\n        type: 'card',\n        card: {\n          number: elements.getElement(CardNumberElement),\n          exp_month: elements.getElement(CardExpiryElement),\n          cvc: elements.getElement(CardCvcElement),\n        },\n        billing_details: {\n          name: formData.full_name,\n          email: formData.email,\n          phone: formData.phone\n        }\n      });\n      \n      if (pmError) {\n        setMessageType('error');\n        setMessage(pmError.message);\n        setLoading(false);\n        return;\n      }\n\n      // 3. Confirm card payment with Stripe.js\n      const { error: confirmError, paymentIntent } = await stripe.confirmCardPayment(client_secret, {\n        payment_method: paymentMethod.id\n      });\n      if (confirmError) {\n        setMessageType('error');\n        setMessage(confirmError.message);\n        setLoading(false);\n        return;\n      }\n      if (paymentIntent.status !== 'succeeded') {\n        setMessageType('error');\n        setMessage('Payment was not successful.');\n        setLoading(false);\n        return;\n      }\n\n      // 4. Notify backend to update transaction status\n      await axios.post(`${API_BASE_URL}/stripe/confirm-payment`, {\n        payment_intent_id,\n        payment_method_id: paymentMethod.id\n      });\n      setMessageType('success');\n      setMessage('Payment successful!');\n      setFormData({ full_name: '', email: '', phone: '', amount: '' });\n      setPaymentData({ payment_method: 'visa', card_number: '', expiry_month: '', expiry_year: '', cvv: '', cardholder_name: '' });\n      setStep(1);\n    } catch (error) {\n      setMessageType('error');\n      setMessage(error.response?.data?.detail || 'Payment failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Card Number</label>\n        <CardNumberElement options={cardElementOptions} />\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <div className=\"mb-3\">\n            <label className=\"form-label\">Expiry Date</label>\n            <CardExpiryElement options={cardElementOptions} />\n          </div>\n        </div>\n        <div className=\"col-md-6\">\n          <div className=\"mb-3\">\n            <label className=\"form-label\">CVC</label>\n            <CardCvcElement options={cardElementOptions} />\n          </div>\n        </div>\n      </div>\n      <button type=\"submit\" className=\"btn btn-pay text-white\" disabled={setLoading}>\n        PAY NOW\n      </button>\n    </form>\n  );\n}\n*/\n\nfunction PaymentForm({\n  formData,\n  setFormData,\n  paymentData,\n  setPaymentData,\n  setMessage,\n  setMessageType,\n  setLoading,\n  setStep\n}) {\n  _s();\n  const stripe = useStripe();\n  const elements = useElements();\n\n  // Custom options for CardElement\n  const cardElementOptions = {\n    style: {\n      base: {\n        fontSize: '16px',\n        color: '#424770',\n        '::placeholder': {\n          color: '#aab7c4'\n        },\n        ':-webkit-autofill': {\n          color: '#fce883'\n        }\n      },\n      invalid: {\n        color: '#9e2146'\n      }\n    },\n    hidePostalCode: true // This makes postal code optional\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n    try {\n      // 1. Create payment intent\n      const intentRes = await axios.post(`${API_BASE_URL}/stripe/create-payment-intent`, {\n        amount: Math.round(formData.amount * 100),\n        currency: 'usd',\n        full_name: formData.full_name,\n        email: formData.email,\n        phone: formData.phone\n      });\n      const {\n        client_secret,\n        payment_intent_id\n      } = intentRes.data;\n\n      // 2. Create payment method with Stripe.js\n      const cardElement = elements.getElement(CardElement);\n      const {\n        error: pmError,\n        paymentMethod\n      } = await stripe.createPaymentMethod({\n        type: 'card',\n        card: cardElement,\n        billing_details: {\n          name: formData.full_name,\n          email: formData.email,\n          phone: formData.phone\n        }\n      });\n      if (pmError) {\n        setMessageType('error');\n        setMessage(pmError.message);\n        setLoading(false);\n        return;\n      }\n\n      // 3. Confirm card payment with Stripe.js\n      const {\n        error: confirmError,\n        paymentIntent\n      } = await stripe.confirmCardPayment(client_secret, {\n        payment_method: paymentMethod.id\n      });\n      if (confirmError) {\n        setMessageType('error');\n        setMessage(confirmError.message);\n        setLoading(false);\n        return;\n      }\n      if (paymentIntent.status !== 'succeeded') {\n        setMessageType('error');\n        setMessage('Payment was not successful.');\n        setLoading(false);\n        return;\n      }\n\n      // 4. Notify backend to update transaction status\n      await axios.post(`${API_BASE_URL}/stripe/confirm-payment`, {\n        payment_intent_id,\n        payment_method_id: paymentMethod.id\n      });\n      setMessageType('success');\n      setMessage('Payment successful!');\n      setFormData({\n        full_name: '',\n        email: '',\n        phone: '',\n        amount: ''\n      });\n      setPaymentData({\n        payment_method: 'visa',\n        card_number: '',\n        expiry_month: '',\n        expiry_year: '',\n        cvv: '',\n        cardholder_name: ''\n      });\n      setStep(1);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessageType('error');\n      setMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'Payment failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label\",\n        children: \"Card Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardElement, {\n        options: cardElementOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-pay text-white\",\n      disabled: setLoading,\n      children: \"PAY NOW\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this);\n}\n_s(PaymentForm, \"EKvoGMX7lxsZ5SGPpYu2aKFzClQ=\", false, function () {\n  return [useStripe, useElements];\n});\n_c = PaymentForm;\nfunction App() {\n  _s2();\n  const [step, setStep] = useState(1); // 1: Basic info, 2: Payment method, 3: Card details\n  const [formData, setFormData] = useState({\n    full_name: '',\n    email: '',\n    phone: '',\n    amount: ''\n  });\n  const [paymentData, setPaymentData] = useState({\n    payment_method: 'visa',\n    card_number: '',\n    expiry_month: '',\n    expiry_year: '',\n    cvv: '',\n    cardholder_name: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n  const [cardValidation, setCardValidation] = useState({});\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handlePaymentInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    // Special handling for card number formatting\n    if (name === 'card_number') {\n      // Remove all non-digits\n      const digitsOnly = value.replace(/\\D/g, '');\n\n      // Add spaces after every 4 digits\n      const formatted = digitsOnly.replace(/(\\d{4})(?=\\d)/g, '$1 ');\n\n      // Limit to 19 characters (16 digits + 3 spaces)\n      const limited = formatted.slice(0, 19);\n      setPaymentData(prev => ({\n        ...prev,\n        [name]: limited\n      }));\n    } else {\n      setPaymentData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  const validateBasicInfo = () => {\n    if (!formData.full_name || !formData.email || !formData.phone || !formData.amount) {\n      setMessage('Please fill in all fields');\n      setMessageType('error');\n      return false;\n    }\n    if (parseFloat(formData.amount) <= 0) {\n      setMessage('Amount must be greater than 0');\n      setMessageType('error');\n      return false;\n    }\n    return true;\n  };\n  const validateCardDetails = async () => {\n    // Only validate if card details are provided\n    if (!paymentData.card_number || !paymentData.expiry_month || !paymentData.expiry_year || !paymentData.cvv) {\n      setMessage('Please fill in all card details');\n      setMessageType('error');\n      return false;\n    }\n\n    // Client-side validation first\n    const cardNumber = paymentData.card_number.replace(/\\s/g, '');\n    if (cardNumber.length < 13 || cardNumber.length > 19) {\n      setMessage('Invalid card number length');\n      setMessageType('error');\n      return false;\n    }\n\n    // Basic Luhn algorithm check\n    const luhnCheck = num => {\n      let arr = (num + '').split('').reverse().map(x => parseInt(x));\n      let lastDigit = arr.splice(0, 1)[0];\n      let sum = arr.reduce((acc, val, i) => i % 2 !== 0 ? acc + val : acc + val * 2 % 9 || 9, 0);\n      sum += lastDigit;\n      return sum % 10 === 0;\n    };\n    if (!luhnCheck(cardNumber)) {\n      setMessage('Invalid card number');\n      setMessageType('error');\n      return false;\n    }\n\n    // Check expiry date\n    const currentDate = new Date();\n    const currentYear = currentDate.getFullYear();\n    const currentMonth = currentDate.getMonth() + 1;\n    const expYear = parseInt(paymentData.expiry_year);\n    const expMonth = parseInt(paymentData.expiry_month);\n    if (expYear < currentYear || expYear === currentYear && expMonth < currentMonth) {\n      setMessage('Card has expired');\n      setMessageType('error');\n      return false;\n    }\n\n    // Check CVV length\n    const expectedCvvLength = paymentData.payment_method === 'amex' ? 4 : 3;\n    if (paymentData.cvv.length !== expectedCvvLength) {\n      setMessage(`CVV must be ${expectedCvvLength} digits for ${paymentData.payment_method.toUpperCase()}`);\n      setMessageType('error');\n      return false;\n    }\n\n    // Try backend validation if available, but don't fail if it's not\n    try {\n      const response = await axios.post(`${API_BASE_URL}/validate-card`, {\n        card_number: paymentData.card_number,\n        expiry_month: paymentData.expiry_month,\n        expiry_year: paymentData.expiry_year,\n        cvv: paymentData.cvv\n      }, {\n        timeout: 5000 // 5 second timeout\n      });\n      if (response.data.valid) {\n        setCardValidation(response.data);\n        return true;\n      } else {\n        setMessage(`Card validation failed: ${response.data.error}`);\n        setMessageType('error');\n        return false;\n      }\n    } catch (error) {\n      console.log('Backend validation failed, proceeding with client-side validation:', error.message);\n      // If backend validation fails, proceed with client-side validation\n      setCardValidation({\n        valid: true,\n        card_type: paymentData.payment_method,\n        masked_number: `**** **** **** ${cardNumber.slice(-4)}`\n      });\n      return true;\n    }\n  };\n  const handleNextStep = async () => {\n    setMessage('');\n    if (step === 1) {\n      if (validateBasicInfo()) {\n        setStep(2);\n      }\n    } else if (step === 2) {\n      // Simply move to step 3 without validation - validation happens on submit\n      setStep(3);\n    }\n  };\n  const stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY || 'pk_test_your_actual_publishable_key_here');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"payment-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83D\\uDD12 GenZ Payment Gateway\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Your payment information is encrypted and secure\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `alert ${messageType === 'success' ? 'success-alert' : 'error-alert'} mb-4`,\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `progress-step ${step >= 1 ? 'active' : ''}`,\n          children: \"1. Personal Info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `progress-step ${step >= 2 ? 'active' : ''}`,\n          children: \"2. Payment Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `progress-step ${step >= 3 ? 'active' : ''}`,\n          children: \"3. Card Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 9\n      }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Personal Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"full_name\",\n            className: \"form-label\",\n            children: \"Full Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"full_name\",\n            name: \"full_name\",\n            value: formData.full_name,\n            onChange: handleInputChange,\n            required: true,\n            placeholder: \"Enter your full name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"form-label\",\n            children: \"Email Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            id: \"email\",\n            name: \"email\",\n            value: formData.email,\n            onChange: handleInputChange,\n            required: true,\n            placeholder: \"Enter your email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"phone\",\n            className: \"form-label\",\n            children: \"Phone Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            className: \"form-control\",\n            id: \"phone\",\n            name: \"phone\",\n            value: formData.phone,\n            onChange: handleInputChange,\n            required: true,\n            placeholder: \"Enter your phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"amount\",\n            className: \"form-label\",\n            children: \"Payment Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"input-group-text\",\n              children: \"$\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              id: \"amount\",\n              name: \"amount\",\n              value: formData.amount,\n              onChange: handleInputChange,\n              required: true,\n              min: \"0.01\",\n              step: \"0.01\",\n              placeholder: \"0.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary w-100\",\n          onClick: handleNextStep,\n          children: \"Continue to Payment Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Select Payment Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment-methods\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"payment-method-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"visa\",\n              name: \"payment_method\",\n              value: \"visa\",\n              checked: paymentData.payment_method === 'visa',\n              onChange: handlePaymentInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"visa\",\n              className: \"payment-method-label\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"card-icon\",\n                children: \"\\uD83D\\uDCB3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Visa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"payment-method-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"mastercard\",\n              name: \"payment_method\",\n              value: \"mastercard\",\n              checked: paymentData.payment_method === 'mastercard',\n              onChange: handlePaymentInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"mastercard\",\n              className: \"payment-method-label\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"card-icon\",\n                children: \"\\uD83D\\uDCB3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Mastercard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"payment-method-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"amex\",\n              name: \"payment_method\",\n              value: \"amex\",\n              checked: paymentData.payment_method === 'amex',\n              onChange: handlePaymentInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"amex\",\n              className: \"payment-method-label\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"card-icon\",\n                children: \"\\uD83D\\uDCB3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"American Express\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"payment-method-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"discover\",\n              name: \"payment_method\",\n              value: \"discover\",\n              checked: paymentData.payment_method === 'discover',\n              onChange: handlePaymentInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"discover\",\n              className: \"payment-method-label\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"card-icon\",\n                children: \"\\uD83D\\uDCB3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Discover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-secondary me-2\",\n            onClick: () => setStep(1),\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary\",\n            onClick: handleNextStep,\n            children: \"Continue to Card Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 11\n      }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Card Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-preview\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-front\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-type\",\n              children: paymentData.payment_method.toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-number\",\n              children: paymentData.card_number ? `**** **** **** ${paymentData.card_number.slice(-4)}` : '**** **** **** ****'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"cardholder\",\n                children: paymentData.cardholder_name || 'CARDHOLDER NAME'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"expiry\",\n                children: [paymentData.expiry_month || 'MM', \"/\", paymentData.expiry_year || 'YY']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Elements, {\n          stripe: stripePromise,\n          children: /*#__PURE__*/_jsxDEV(PaymentForm, {\n            formData: formData,\n            setFormData: setFormData,\n            paymentData: paymentData,\n            setPaymentData: setPaymentData,\n            setMessage: setMessage,\n            setMessageType: setMessageType,\n            setLoading: setLoading,\n            setStep: setStep\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 411,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"n4Ss3eADwjOEUy8rG4CXNEFgPhs=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"PaymentForm\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","axios","loadStripe","Elements","CardElement","CardNumberElement","CardExpiryElement","CardCvcElement","useStripe","useElements","jsxDEV","_jsxDEV","API_BASE_URL","PaymentForm","formData","setFormData","paymentData","setPaymentData","setMessage","setMessageType","setLoading","setStep","_s","stripe","elements","cardElementOptions","style","base","fontSize","color","invalid","hidePostalCode","handleSubmit","e","preventDefault","intentRes","post","amount","Math","round","currency","full_name","email","phone","client_secret","payment_intent_id","data","cardElement","getElement","error","pmError","paymentMethod","createPaymentMethod","type","card","billing_details","name","message","confirmError","paymentIntent","confirmCardPayment","payment_method","id","status","payment_method_id","card_number","expiry_month","expiry_year","cvv","cardholder_name","_error$response","_error$response$data","response","detail","onSubmit","children","className","fileName","_jsxFileName","lineNumber","columnNumber","options","disabled","_c","App","_s2","step","loading","messageType","cardValidation","setCardValidation","handleInputChange","value","target","prev","handlePaymentInputChange","digitsOnly","replace","formatted","limited","slice","validateBasicInfo","parseFloat","validateCardDetails","cardNumber","length","luhnCheck","num","arr","split","reverse","map","x","parseInt","lastDigit","splice","sum","reduce","acc","val","i","currentDate","Date","currentYear","getFullYear","currentMonth","getMonth","expYear","expMonth","expectedCvvLength","toUpperCase","timeout","valid","console","log","card_type","masked_number","handleNextStep","stripePromise","process","env","REACT_APP_STRIPE_PUBLISHABLE_KEY","htmlFor","onChange","required","placeholder","min","onClick","checked","_c2","$RefreshReg$"],"sources":["D:/Payment-Gateway/frontend/src/App.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './styles/main.css';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements, CardElement, CardNumberElement, CardExpiryElement, CardCvcElement, useStripe, useElements } from '@stripe/react-stripe-js';\n\n// Backend API URL\nconst API_BASE_URL = 'http://localhost:8000';\n\n// Alternative PaymentForm using individual elements (commented out for now)\n/*\nfunction IndividualCardPaymentForm({ formData, setFormData, paymentData, setPaymentData, setMessage, setMessageType, setLoading, setStep }) {\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const cardElementOptions = {\n    style: {\n      base: {\n        fontSize: '16px',\n        color: '#424770',\n        '::placeholder': {\n          color: '#aab7c4',\n        },\n      },\n      invalid: {\n        color: '#9e2146',\n      },\n    },\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n    try {\n      // 1. Create payment intent\n      const intentRes = await axios.post(`${API_BASE_URL}/stripe/create-payment-intent`, {\n        amount: Math.round(formData.amount * 100),\n        currency: 'usd',\n        full_name: formData.full_name,\n        email: formData.email,\n        phone: formData.phone\n      });\n      const { client_secret, payment_intent_id } = intentRes.data;\n\n      // 2. Create payment method with individual elements\n      const { error: pmError, paymentMethod } = await stripe.createPaymentMethod({\n        type: 'card',\n        card: {\n          number: elements.getElement(CardNumberElement),\n          exp_month: elements.getElement(CardExpiryElement),\n          cvc: elements.getElement(CardCvcElement),\n        },\n        billing_details: {\n          name: formData.full_name,\n          email: formData.email,\n          phone: formData.phone\n        }\n      });\n      \n      if (pmError) {\n        setMessageType('error');\n        setMessage(pmError.message);\n        setLoading(false);\n        return;\n      }\n\n      // 3. Confirm card payment with Stripe.js\n      const { error: confirmError, paymentIntent } = await stripe.confirmCardPayment(client_secret, {\n        payment_method: paymentMethod.id\n      });\n      if (confirmError) {\n        setMessageType('error');\n        setMessage(confirmError.message);\n        setLoading(false);\n        return;\n      }\n      if (paymentIntent.status !== 'succeeded') {\n        setMessageType('error');\n        setMessage('Payment was not successful.');\n        setLoading(false);\n        return;\n      }\n\n      // 4. Notify backend to update transaction status\n      await axios.post(`${API_BASE_URL}/stripe/confirm-payment`, {\n        payment_intent_id,\n        payment_method_id: paymentMethod.id\n      });\n      setMessageType('success');\n      setMessage('Payment successful!');\n      setFormData({ full_name: '', email: '', phone: '', amount: '' });\n      setPaymentData({ payment_method: 'visa', card_number: '', expiry_month: '', expiry_year: '', cvv: '', cardholder_name: '' });\n      setStep(1);\n    } catch (error) {\n      setMessageType('error');\n      setMessage(error.response?.data?.detail || 'Payment failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Card Number</label>\n        <CardNumberElement options={cardElementOptions} />\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <div className=\"mb-3\">\n            <label className=\"form-label\">Expiry Date</label>\n            <CardExpiryElement options={cardElementOptions} />\n          </div>\n        </div>\n        <div className=\"col-md-6\">\n          <div className=\"mb-3\">\n            <label className=\"form-label\">CVC</label>\n            <CardCvcElement options={cardElementOptions} />\n          </div>\n        </div>\n      </div>\n      <button type=\"submit\" className=\"btn btn-pay text-white\" disabled={setLoading}>\n        PAY NOW\n      </button>\n    </form>\n  );\n}\n*/\n\nfunction PaymentForm({ formData, setFormData, paymentData, setPaymentData, setMessage, setMessageType, setLoading, setStep }) {\n  const stripe = useStripe();\n  const elements = useElements();\n\n  // Custom options for CardElement\n  const cardElementOptions = {\n    style: {\n      base: {\n        fontSize: '16px',\n        color: '#424770',\n        '::placeholder': {\n          color: '#aab7c4',\n        },\n        ':-webkit-autofill': {\n          color: '#fce883',\n        },\n      },\n      invalid: {\n        color: '#9e2146',\n      },\n    },\n    hidePostalCode: true, // This makes postal code optional\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n    try {\n      // 1. Create payment intent\n      const intentRes = await axios.post(`${API_BASE_URL}/stripe/create-payment-intent`, {\n        amount: Math.round(formData.amount * 100),\n        currency: 'usd',\n        full_name: formData.full_name,\n        email: formData.email,\n        phone: formData.phone\n      });\n      const { client_secret, payment_intent_id } = intentRes.data;\n\n      // 2. Create payment method with Stripe.js\n      const cardElement = elements.getElement(CardElement);\n      const { error: pmError, paymentMethod } = await stripe.createPaymentMethod({\n        type: 'card',\n        card: cardElement,\n        billing_details: {\n          name: formData.full_name,\n          email: formData.email,\n          phone: formData.phone\n        }\n      });\n      if (pmError) {\n        setMessageType('error');\n        setMessage(pmError.message);\n        setLoading(false);\n        return;\n      }\n\n      // 3. Confirm card payment with Stripe.js\n      const { error: confirmError, paymentIntent } = await stripe.confirmCardPayment(client_secret, {\n        payment_method: paymentMethod.id\n      });\n      if (confirmError) {\n        setMessageType('error');\n        setMessage(confirmError.message);\n        setLoading(false);\n        return;\n      }\n      if (paymentIntent.status !== 'succeeded') {\n        setMessageType('error');\n        setMessage('Payment was not successful.');\n        setLoading(false);\n        return;\n      }\n\n      // 4. Notify backend to update transaction status\n      await axios.post(`${API_BASE_URL}/stripe/confirm-payment`, {\n        payment_intent_id,\n        payment_method_id: paymentMethod.id\n      });\n      setMessageType('success');\n      setMessage('Payment successful!');\n      setFormData({ full_name: '', email: '', phone: '', amount: '' });\n      setPaymentData({ payment_method: 'visa', card_number: '', expiry_month: '', expiry_year: '', cvv: '', cardholder_name: '' });\n      setStep(1);\n    } catch (error) {\n      setMessageType('error');\n      setMessage(error.response?.data?.detail || 'Payment failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      {/* Render CardElement with custom options */}\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Card Details</label>\n        <CardElement options={cardElementOptions} />\n      </div>\n      <button type=\"submit\" className=\"btn btn-pay text-white\" disabled={setLoading}>\n        PAY NOW\n      </button>\n    </form>\n  );\n}\n\nfunction App() {\n  const [step, setStep] = useState(1); // 1: Basic info, 2: Payment method, 3: Card details\n  const [formData, setFormData] = useState({\n    full_name: '',\n    email: '',\n    phone: '',\n    amount: ''\n  });\n  \n  const [paymentData, setPaymentData] = useState({\n    payment_method: 'visa',\n    card_number: '',\n    expiry_month: '',\n    expiry_year: '',\n    cvv: '',\n    cardholder_name: ''\n  });\n  \n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n  const [cardValidation, setCardValidation] = useState({});\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handlePaymentInputChange = (e) => {\n    const { name, value } = e.target;\n    \n    // Special handling for card number formatting\n    if (name === 'card_number') {\n      // Remove all non-digits\n      const digitsOnly = value.replace(/\\D/g, '');\n      \n      // Add spaces after every 4 digits\n      const formatted = digitsOnly.replace(/(\\d{4})(?=\\d)/g, '$1 ');\n      \n      // Limit to 19 characters (16 digits + 3 spaces)\n      const limited = formatted.slice(0, 19);\n      \n      setPaymentData(prev => ({\n        ...prev,\n        [name]: limited\n      }));\n    } else {\n      setPaymentData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n\n  const validateBasicInfo = () => {\n    if (!formData.full_name || !formData.email || !formData.phone || !formData.amount) {\n      setMessage('Please fill in all fields');\n      setMessageType('error');\n      return false;\n    }\n    if (parseFloat(formData.amount) <= 0) {\n      setMessage('Amount must be greater than 0');\n      setMessageType('error');\n      return false;\n    }\n    return true;\n  };\n\n  const validateCardDetails = async () => {\n    // Only validate if card details are provided\n    if (!paymentData.card_number || !paymentData.expiry_month || !paymentData.expiry_year || !paymentData.cvv) {\n      setMessage('Please fill in all card details');\n      setMessageType('error');\n      return false;\n    }\n\n    // Client-side validation first\n    const cardNumber = paymentData.card_number.replace(/\\s/g, '');\n    if (cardNumber.length < 13 || cardNumber.length > 19) {\n      setMessage('Invalid card number length');\n      setMessageType('error');\n      return false;\n    }\n\n    // Basic Luhn algorithm check\n    const luhnCheck = (num) => {\n      let arr = (num + '')\n        .split('')\n        .reverse()\n        .map(x => parseInt(x));\n      let lastDigit = arr.splice(0, 1)[0];\n      let sum = arr.reduce((acc, val, i) => (i % 2 !== 0 ? acc + val : acc + ((val * 2) % 9) || 9), 0);\n      sum += lastDigit;\n      return sum % 10 === 0;\n    };\n\n    if (!luhnCheck(cardNumber)) {\n      setMessage('Invalid card number');\n      setMessageType('error');\n      return false;\n    }\n\n    // Check expiry date\n    const currentDate = new Date();\n    const currentYear = currentDate.getFullYear();\n    const currentMonth = currentDate.getMonth() + 1;\n    \n    const expYear = parseInt(paymentData.expiry_year);\n    const expMonth = parseInt(paymentData.expiry_month);\n    \n    if (expYear < currentYear || (expYear === currentYear && expMonth < currentMonth)) {\n      setMessage('Card has expired');\n      setMessageType('error');\n      return false;\n    }\n\n    // Check CVV length\n    const expectedCvvLength = paymentData.payment_method === 'amex' ? 4 : 3;\n    if (paymentData.cvv.length !== expectedCvvLength) {\n      setMessage(`CVV must be ${expectedCvvLength} digits for ${paymentData.payment_method.toUpperCase()}`);\n      setMessageType('error');\n      return false;\n    }\n\n    // Try backend validation if available, but don't fail if it's not\n    try {\n      const response = await axios.post(`${API_BASE_URL}/validate-card`, {\n        card_number: paymentData.card_number,\n        expiry_month: paymentData.expiry_month,\n        expiry_year: paymentData.expiry_year,\n        cvv: paymentData.cvv\n      }, {\n        timeout: 5000 // 5 second timeout\n      });\n\n      if (response.data.valid) {\n        setCardValidation(response.data);\n        return true;\n      } else {\n        setMessage(`Card validation failed: ${response.data.error}`);\n        setMessageType('error');\n        return false;\n      }\n    } catch (error) {\n      console.log('Backend validation failed, proceeding with client-side validation:', error.message);\n      // If backend validation fails, proceed with client-side validation\n      setCardValidation({\n        valid: true,\n        card_type: paymentData.payment_method,\n        masked_number: `**** **** **** ${cardNumber.slice(-4)}`\n      });\n      return true;\n    }\n  };\n\n  const handleNextStep = async () => {\n    setMessage('');\n    \n    if (step === 1) {\n      if (validateBasicInfo()) {\n        setStep(2);\n      }\n    } else if (step === 2) {\n      // Simply move to step 3 without validation - validation happens on submit\n      setStep(3);\n    }\n  };\n\n  const stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY || 'pk_test_your_actual_publishable_key_here');\n\n  return (\n    <div className=\"payment-container\">\n      <div className=\"payment-card\">\n        <div className=\"payment-header\">\n          <h1>ðŸ”’ GenZ Payment Gateway</h1>\n          <p>Your payment information is encrypted and secure</p>\n        </div>\n\n        {message && (\n          <div className={`alert ${messageType === 'success' ? 'success-alert' : 'error-alert'} mb-4`}>\n            {message}\n          </div>\n        )}\n\n        <div className=\"progress-bar mb-4\">\n          <div className={`progress-step ${step >= 1 ? 'active' : ''}`}>1. Personal Info</div>\n          <div className={`progress-step ${step >= 2 ? 'active' : ''}`}>2. Payment Method</div>\n          <div className={`progress-step ${step >= 3 ? 'active' : ''}`}>3. Card Details</div>\n        </div>\n\n        {step === 1 && (\n          <div className=\"payment-step\">\n            <h3>Personal Information</h3>\n            <div className=\"mb-3\">\n              <label htmlFor=\"full_name\" className=\"form-label\">Full Name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"full_name\"\n                name=\"full_name\"\n                value={formData.full_name}\n                onChange={handleInputChange}\n                required\n                placeholder=\"Enter your full name\"\n              />\n            </div>\n\n            <div className=\"mb-3\">\n              <label htmlFor=\"email\" className=\"form-label\">Email Address</label>\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                id=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleInputChange}\n                required\n                placeholder=\"Enter your email\"\n              />\n            </div>\n\n            <div className=\"mb-3\">\n              <label htmlFor=\"phone\" className=\"form-label\">Phone Number</label>\n              <input\n                type=\"tel\"\n                className=\"form-control\"\n                id=\"phone\"\n                name=\"phone\"\n                value={formData.phone}\n                onChange={handleInputChange}\n                required\n                placeholder=\"Enter your phone number\"\n              />\n            </div>\n\n            <div className=\"mb-4\">\n              <label htmlFor=\"amount\" className=\"form-label\">Payment Amount</label>\n              <div className=\"input-group\">\n                <span className=\"input-group-text\">$</span>\n                <input\n                  type=\"number\"\n                  className=\"form-control\"\n                  id=\"amount\"\n                  name=\"amount\"\n                  value={formData.amount}\n                  onChange={handleInputChange}\n                  required\n                  min=\"0.01\"\n                  step=\"0.01\"\n                  placeholder=\"0.00\"\n                />\n              </div>\n            </div>\n\n            <button\n              type=\"button\"\n              className=\"btn btn-primary w-100\"\n              onClick={handleNextStep}\n            >\n              Continue to Payment Method\n            </button>\n          </div>\n        )}\n        {step === 2 && (\n          <div className=\"payment-step\">\n            <h3>Select Payment Method</h3>\n            <div className=\"payment-methods\">\n              <div className=\"payment-method-option\">\n                <input\n                  type=\"radio\"\n                  id=\"visa\"\n                  name=\"payment_method\"\n                  value=\"visa\"\n                  checked={paymentData.payment_method === 'visa'}\n                  onChange={handlePaymentInputChange}\n                />\n                <label htmlFor=\"visa\" className=\"payment-method-label\">\n                  <span className=\"card-icon\">ðŸ’³</span>\n                  <span>Visa</span>\n                </label>\n              </div>\n              \n              <div className=\"payment-method-option\">\n                <input\n                  type=\"radio\"\n                  id=\"mastercard\"\n                  name=\"payment_method\"\n                  value=\"mastercard\"\n                  checked={paymentData.payment_method === 'mastercard'}\n                  onChange={handlePaymentInputChange}\n                />\n                <label htmlFor=\"mastercard\" className=\"payment-method-label\">\n                  <span className=\"card-icon\">ðŸ’³</span>\n                  <span>Mastercard</span>\n                </label>\n              </div>\n              \n              <div className=\"payment-method-option\">\n                <input\n                  type=\"radio\"\n                  id=\"amex\"\n                  name=\"payment_method\"\n                  value=\"amex\"\n                  checked={paymentData.payment_method === 'amex'}\n                  onChange={handlePaymentInputChange}\n                />\n                <label htmlFor=\"amex\" className=\"payment-method-label\">\n                  <span className=\"card-icon\">ðŸ’³</span>\n                  <span>American Express</span>\n                </label>\n              </div>\n              \n              <div className=\"payment-method-option\">\n                <input\n                  type=\"radio\"\n                  id=\"discover\"\n                  name=\"payment_method\"\n                  value=\"discover\"\n                  checked={paymentData.payment_method === 'discover'}\n                  onChange={handlePaymentInputChange}\n                />\n                <label htmlFor=\"discover\" className=\"payment-method-label\">\n                  <span className=\"card-icon\">ðŸ’³</span>\n                  <span>Discover</span>\n                </label>\n              </div>\n            </div>\n\n            <div className=\"mt-4\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary me-2\"\n                onClick={() => setStep(1)}\n              >\n                Back\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={handleNextStep}\n              >\n                Continue to Card Details\n              </button>\n            </div>\n          </div>\n        )}\n        {step === 3 && (\n          <div className=\"payment-step\">\n            <h3>Card Details</h3>\n            <div className=\"card-preview\">\n              <div className=\"card-front\">\n                <div className=\"card-type\">{paymentData.payment_method.toUpperCase()}</div>\n                <div className=\"card-number\">\n                  {paymentData.card_number ? \n                    `**** **** **** ${paymentData.card_number.slice(-4)}` : \n                    '**** **** **** ****'\n                  }\n                </div>\n                <div className=\"card-details\">\n                  <span className=\"cardholder\">{paymentData.cardholder_name || 'CARDHOLDER NAME'}</span>\n                  <span className=\"expiry\">{paymentData.expiry_month || 'MM'}/{paymentData.expiry_year || 'YY'}</span>\n                </div>\n              </div>\n            </div>\n\n            <Elements stripe={stripePromise}>\n              <PaymentForm\n                formData={formData}\n                setFormData={setFormData}\n                paymentData={paymentData}\n                setPaymentData={setPaymentData}\n                setMessage={setMessage}\n                setMessageType={setMessageType}\n                setLoading={setLoading}\n                setStep={setStep}\n              />\n            </Elements>\n          </div>\n        )}\n\n        {/* <div className=\"text-center mt-4\">\n          <small className=\"text-muted\">\n            ðŸ”’ PCI DSS Compliant â€¢ 256-bit SSL Encryption â€¢ Tokenized Payments\n          </small>\n        </div> */}\n        \n        {/* <div className=\"text-center mt-2\">\n          <small className=\"text-muted\">\n            Backend: {API_BASE_URL}\n          </small>\n        </div> */}\n      </div>\n    </div>\n  );\n}\n\nexport default App; "],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,mBAAmB;AAC1B,SAASC,UAAU,QAAQ,mBAAmB;AAC9C,SAASC,QAAQ,EAAEC,WAAW,EAAEC,iBAAiB,EAAEC,iBAAiB,EAAEC,cAAc,EAAEC,SAAS,EAAEC,WAAW,QAAQ,yBAAyB;;AAE7I;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,YAAY,GAAG,uBAAuB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,WAAWA,CAAC;EAAEC,QAAQ;EAAEC,WAAW;EAAEC,WAAW;EAAEC,cAAc;EAAEC,UAAU;EAAEC,cAAc;EAAEC,UAAU;EAAEC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EAC5H,MAAMC,MAAM,GAAGf,SAAS,CAAC,CAAC;EAC1B,MAAMgB,QAAQ,GAAGf,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAMgB,kBAAkB,GAAG;IACzBC,KAAK,EAAE;MACLC,IAAI,EAAE;QACJC,QAAQ,EAAE,MAAM;QAChBC,KAAK,EAAE,SAAS;QAChB,e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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}